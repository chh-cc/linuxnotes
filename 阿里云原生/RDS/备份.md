## 备份

支持手动备份和自动备份



两种备份功能：

- RDS备份（物理备份，默认开启）：RDS本身提供的备份功能，包括全量（数据）和增量（日志）备份。
  - 可以恢复到新实例和原实例，不能恢复到其他已有实例和本地自建库
- [通过DBS备份](https://help.aliyun.com/document_detail/59133.htm#multiTask228)：DBS的逻辑备份，提供高级备份功能，包括跨账号备份、快速查询等。



备份的组成：

- **数据备份**：系统对数据进行备份，并生成备份集。您可以恢复备份集所在时间点的数据。
- **日志备份**（可以关闭）：也叫**增量备份**。开启日志备份后，本地日志会上传，形成日志备份。基于“数据备份+日志备份”，您可以恢复时间范围内**任意时间点**的数据。

数据备份和日志备份都存放在备份空间，不占用存储空间



[高可用版](https://help.aliyun.com/document_detail/127875.htm#concept-1443745)和[三节点企业版](https://help.aliyun.com/document_detail/51701.htm#concept-yqy-zvw-5db)实例：备份在备实例执行，不占用主实例CPU，不影响主实例性能。

可使用命令行或图形界面进行逻辑数据备份。仅限通过 RDS 管理控制台 或 OPEN API 进行物理备份。



### 备份方案

自动备份

库表级备份

跨地域备份

跨阿里账户备份

高频物理备份

高频快照备份

### 库表级备份

自动备份部分库表

- DBS的逻辑备份支持自动备份部分库表



手动备份部分库表

### 本地日志

一般当Binlog文件大小超过 512 MB就会生成新的binlog文件继续写入，但是binlog文件也可能大于512MB，例如执行大事务时要等大事务完成时才能进行binlog切换

可以从平台下载binlog日志



通过mysqlbinlog工具查看binlog日志内容

```
mysqlbinlog -vv --base64-output=decode-rows mysql-bin.XXX | more
```

- `-vv`参数为查看具体SQL语句及备注。
- `--base64-output=decode-rows`参数为解析Binlog日志文件。





## 恢复

### 恢复全量数据

1. 选择待恢复的时间点或备份集，把数据恢复到新实例
2. 使用数据传输DTS将需要的部分或全部库表数据迁移到原实例

### 恢复库表

云盘实例暂不支持常规库表恢复，仅本地盘实例支持恢复到原实例和新实例



