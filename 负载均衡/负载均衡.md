# 负载均衡

集群架构是热备的高可用架构，它通常采用虚拟VIP技术（如keepalived、heartbeat）来解决单点故障的问题，让架构高可用。
集群的虚拟VIP技术只能让一台服务器平时作为backup热备，只有出现故障的时候才会切换到backup上，平时backup都处于空闲状态。

分布式架构的技术特点就是引入了负载均衡，让不同服务器来同时处理业务压力。负载均衡是分布式架构的起点，高可用架构底层最需要及最依赖的就是负载均衡。

应用最广泛的开源负载均衡：nginx、lvs、HAProxy

阿里云的SLB也是基于LVS及Nginx

由于LVS基于虚拟VIP，阿里云当前底层限制，经典网络和VPC专有云网络都不支持虚拟VIP的功能，所以ECS不支持使用LVS，keepalived也不能

负载均衡性能对比：

| 类型              | 支持并发  |
| ----------------- | --------- |
| LVS DR            | 100W~400W |
| LVS NAT/SLB四层   | 50W~100W  |
| nginx四层         | 10w~50W   |
| SLB七层/nginx七层 | 2W~5W     |

