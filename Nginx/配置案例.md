# 配置案例

## 通过slb转发到部署在nginx的网站

配置slb

- 申请域名证书
- 配置slb443监听端口和部署证书
- 配置后端服务器端口为443

配置nginx

```shell
...
http {
    server {
    listen 80;
    server_name www.xxx.com xxx.com;
    index index.html index.php index.htm;
    charset utf-8;
   
    if ($host = "www.xxx.com") {
       rewrite ^/(.*)$ https://www.xxx.com permanent;
    }
 
    client_max_body_size 75M;
    location / {
            root   /usr/local/xxx;
            index  index.html index.htm;
    }
    }
    
    server {
        listen       443;
        server_name  www.xxx.com xxx.com;

        charset utf-8;

        client_max_body_size 75M;

        location / {
            root   /usr/local/xxx;
            index  index.html index.htm;
        }
    }
}
```

