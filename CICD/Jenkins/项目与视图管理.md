# 项目与视图管理

创建一个项目很简单，如何管理大规模下的项目呢？ -建立合适的命名规范。

## 项目管理

新建一个项目，项目的类型有很多，例如自由风格的项目、maven类型项目等。这里我们主要用的是流水线pipeline类型的项目。

设置构建历史：构建历史要有合理的策略，过多历史数据会导致jenkins磁盘空间增大。例如：保留30天内的近20次构建记录。

<img src="https://gitee.com/c_honghui/picture/raw/master/img/20210328234405.png" alt="image-20210328234405373" style="zoom:67%;" />

选择参数化构建： 参数化构建就是将项目的信息变成编程语言中的变量，便于后期流水线运行时引用。

<img src="https://gitee.com/c_honghui/picture/raw/master/img/20210328234453.png" alt="image-20210328234453008" style="zoom:67%;" />

设置Jenkinsfile： Jenkinsfile如同dockerfile，在docker中使用dockerfile创建出一个镜像，在jenkins中使用jenkinsfile定义项目流水线的运行步骤和运行相关配置。Jenkinsfile可以直接写在项目中，也可以通过scm版本控制系统进行管理。选择后种方式便于回退，更加友好。

构建项目： 很简单，直接点击构建就好了。当然触发构建的方式后很多，见后续扩展内容。

查看构建日志： 构建日志是一条流水线项目的运行步骤信息，例如构建的错误信息等。便于排错。

调试Pipeline：当流水线出问题的时候，可以不直接修改源文件，而是通过流水线的回放功能进行编辑调试运行。很有用的功能，便于调试。

## 视图管理

默认Jenkins会自动创建一个all视图，里面存放所有的项目。

创建视图：

![img](https://gitee.com/c_honghui/picture/raw/master/img/20210328234800.png)

填写视图名称：

![img](https://gitee.com/c_honghui/picture/raw/master/img/20210328234855.png)

选择视图包含的项目。这里使用正则表达式的方式，当然也可以直接手动选择

<img src="https://gitee.com/c_honghui/picture/raw/master/img/20210328235102.png" alt="image-20210328235102855" style="zoom:80%;" />