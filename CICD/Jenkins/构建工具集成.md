# 构建工具集成

## maven

安装maven

http://maven.apache.org/download.cgi

条件：maven3.3以上的版本需要jdk版本1.7+

```shell
tar xzf apache-maven-3.6.0-bin.tar.gz -C /usr/local

vim /etc/profile
export MAVEN_HOME=/usr/local/apache-maven-3.6.0
export PATH=$PATH:$MAVEN_HOME/bin
source /etc/profile
测试：
mvn -v
```

常用命令：

clean 清理构建目录

clean package 打包

clean install 打包部署

clean  test 单元测试

jenkins配置maven

![image-20210516215516886](https://gitee.com/c_honghui/picture/raw/master/img/20210516215523.png)

jenkinsfile：

```groovy
stages{
    stage("build"){
        steps{
            script{
                mvnHome = tool "M3"
                sh "${mvnHome}/bin/mvn -v"
            }
        }
    }
}
```

## gradle

安装gradle

https://downloads.gradle.org/distributions/gradle-5.3-bin.zip

![image-20210516221926187](https://gitee.com/c_honghui/picture/raw/master/img/20210516221926.png)

```shell
unzip gradle-5.3-bin.zip -d /usr/local
vim /etc/profile
export GRADLE_HOME=/usr/local/gradle-5.3
export PATH=$PATH:$GRADLE_HOME/bin
source /etc/profile
测试:
gradle -v
```

jenkins配置gradle

![image-20210516223304350](https://gitee.com/c_honghui/picture/raw/master/img/20210516223304.png)

jenkinsfile：

```groovy
stages{
    stage("Gradlebuild"){
        steps{
            script{
                gradleHome = tool "GRADLE"
                sh "${gradleHome}/bin/gradle -v"
            }
        }
    }
}
```

## ansible